# ğŸ“‹ BÃO CÃO Má» Rá»˜NG - MINI E-COMMERCE

## I. SÆ  Äá»’ QUAN Há»† GIá»®A CÃC Báº¢NG DYNAMODB

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Users       â”‚     â”‚   Categories    â”‚     â”‚    Products     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)         â”‚     â”‚ categoryId (PK) â”‚â—„â”€â”€â”€â”€â”‚ id (PK)         â”‚
â”‚ username        â”‚     â”‚ name            â”‚     â”‚ name            â”‚
â”‚ password (hash) â”‚     â”‚ description     â”‚     â”‚ price           â”‚
â”‚ role            â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚ quantity        â”‚
â”‚ createdAt       â”‚                             â”‚ categoryId (FK) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚ url_image       â”‚
         â”‚                                      â”‚ isDeleted       â”‚
         â”‚                                      â”‚ createdAt       â”‚
         â”‚                                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                                               â”‚
         â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
         â”‚         â”‚  ProductLogs    â”‚                   â”‚
         â”‚         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ logId (PK)      â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚ productId       â”‚
                   â”‚ action          â”‚
                   â”‚ userId          â”‚
                   â”‚ details         â”‚
                   â”‚ time            â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Carts       â”‚     â”‚     Orders      â”‚     â”‚   OrderItems    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ cartItemId (PK) â”‚     â”‚ orderId (PK)    â”‚â—„â”€â”€â”€â”€â”‚ orderItemId(PK) â”‚
â”‚ userId          â”‚     â”‚ userId          â”‚     â”‚ orderId         â”‚
â”‚ productId       â”‚     â”‚ status          â”‚     â”‚ productId       â”‚
â”‚ quantity        â”‚     â”‚ totalAmount     â”‚     â”‚ productName     â”‚
â”‚ createdAt       â”‚     â”‚ shippingInfo    â”‚     â”‚ price           â”‚
â”‚ updatedAt       â”‚     â”‚ createdAt       â”‚     â”‚ quantity        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚ updatedAt       â”‚     â”‚ subtotal        â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Giáº£i thÃ­ch quan há»‡:
- **Users â†” Products**: User (admin) quáº£n lÃ½ Products, ghi log vÃ o ProductLogs
- **Categories â†” Products**: 1 Category cÃ³ nhiá»u Products (1-N)
- **Users â†” Carts**: 1 User cÃ³ 1 Cart chá»©a nhiá»u CartItems (1-N)
- **Users â†” Orders**: 1 User cÃ³ nhiá»u Orders (1-N)
- **Orders â†” OrderItems**: 1 Order cÃ³ nhiá»u OrderItems (1-N)

### âš ï¸ VÃ¬ sao DynamoDB khÃ´ng JOIN nhÆ° SQL?

DynamoDB lÃ  **NoSQL (Key-Value/Document)**, khÃ´ng cÃ³ JOIN vÃ¬:

1. **Thiáº¿t káº¿ phi quan há»‡**: Má»—i báº£ng Ä‘á»™c láº­p, khÃ´ng cÃ³ foreign key constraints
2. **Scale horizontally**: Data phÃ¢n tÃ¡n trÃªn nhiá»u servers, JOIN sáº½ ráº¥t cháº­m
3. **Single-table design**: Khuyáº¿n khÃ­ch denormalization (lÆ°u dá»¯ liá»‡u dÆ° thá»«a)
4. **Access pattern first**: Thiáº¿t káº¿ theo cÃ¡ch truy váº¥n, khÃ´ng theo cáº¥u trÃºc dá»¯ liá»‡u

**Giáº£i phÃ¡p thay tháº¿**:
- Denormalization: LÆ°u productName trong OrderItems thay vÃ¬ chá»‰ productId
- Multiple queries: Láº¥y dá»¯ liá»‡u tá»« nhiá»u báº£ng rá»“i ghÃ©p á»Ÿ application layer
- GSI (Global Secondary Index): Táº¡o index Ä‘á»ƒ query theo cÃ¡c attribute khÃ¡c

---

## II. LUá»’NG Xá»¬ LÃ

### 1. Luá»“ng ÄÄƒng Nháº­p

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Browser â”‚â”€â”€â”€â–ºâ”‚ POST /login â”‚â”€â”€â”€â–ºâ”‚ AuthService   â”‚â”€â”€â”€â–ºâ”‚ DynamoDB â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ authenticate  â”‚    â”‚  Users   â”‚
                     â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚                    â”‚
                     â”‚                    â–¼
                     â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚            â”‚ Verify Hash   â”‚
                     â”‚            â”‚ Password      â”‚
                     â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚                    â”‚
                     â–¼                    â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ Set Session â”‚â—„â”€â”€â”€â”€â”‚ Return User   â”‚
              â”‚ Redirect    â”‚     â”‚ Object        â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. Luá»“ng ThÃªm Sáº£n Pháº©m

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Browser â”‚â”€â”€â”€â–ºâ”‚ POST /products â”‚â”€â”€â”€â–ºâ”‚ isAdmin        â”‚
â”‚ (Admin) â”‚    â”‚ /add           â”‚    â”‚ Middleware     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                             â”‚
                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ Upload Image  â”‚â”€â”€â”€â–ºâ”‚ S3 Service    â”‚
              â”‚ (if exists)   â”‚    â”‚ uploadImage() â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ Create Productâ”‚â”€â”€â”€â–ºâ”‚ Products      â”‚
              â”‚ Service       â”‚    â”‚ Repository    â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚                    â”‚
                      â–¼                    â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ Log Action    â”‚â”€â”€â”€â–ºâ”‚ ProductLogs   â”‚
              â”‚ (CREATE)      â”‚    â”‚ Repository    â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ Redirect to   â”‚
              â”‚ /products     â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. Luá»“ng Äáº·t HÃ ng

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Browser â”‚â”€â”€â”€â–ºâ”‚ GET /cart      â”‚â”€â”€â”€â–ºâ”‚ Cart Service   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ /checkout      â”‚    â”‚ getCart()      â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ Fill shipping infoâ”‚
              â”‚ Submit order      â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ POST /orders      â”‚
              â”‚ /create           â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â–¼            â–¼            â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Validate â”‚ â”‚ Create   â”‚ â”‚ Create   â”‚
   â”‚ Stock    â”‚ â”‚ Order    â”‚ â”‚ OrderItemsâ”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â–¼            â–¼            â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Deduct   â”‚ â”‚ Clear    â”‚ â”‚ Redirect â”‚
   â”‚ Stock    â”‚ â”‚ Cart     â”‚ â”‚ Success  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## III. SO SÃNH DYNAMODB VS MYSQL

| TiÃªu chÃ­ | DynamoDB | MySQL |
|----------|----------|-------|
| **Loáº¡i** | NoSQL (Key-Value/Document) | SQL (Relational) |
| **Schema** | Schema-less (linh hoáº¡t) | Schema cá»‘ Ä‘á»‹nh |
| **JOIN** | âŒ KhÃ´ng há»— trá»£ | âœ… Há»— trá»£ Ä‘áº§y Ä‘á»§ |
| **Transactions** | âœ… CÃ³ (limited) | âœ… ACID Ä‘áº§y Ä‘á»§ |
| **Scaling** | Horizontal (tá»± Ä‘á»™ng) | Vertical (khÃ³ scale) |
| **Query** | Primary key, GSI | SQL Ä‘áº§y Ä‘á»§ |
| **Chi phÃ­** | Pay-per-request | Server + storage |
| **Quáº£n lÃ½** | Serverless | Cáº§n quáº£n lÃ½ server |

### PhÃ¹ há»£p cho bÃ i toÃ¡n nÃ y:
- **DynamoDB**: âœ… PhÃ¹ há»£p vÃ¬:
  - MÃ´ hÃ¬nh Ä‘Æ¡n giáº£n, khÃ´ng cáº§n JOIN phá»©c táº¡p
  - Scale tá»± Ä‘á»™ng khi cÃ³ nhiá»u user
  - TÃ­ch há»£p tá»‘t vá»›i AWS ecosystem
  - Chi phÃ­ tháº¥p cho workload nhá»

- **MySQL**: âœ… CÅ©ng phÃ¹ há»£p vÃ¬:
  - Quan há»‡ giá»¯a Products-Categories-Orders rÃµ rÃ ng
  - Cáº§n thá»‘ng kÃª, bÃ¡o cÃ¡o phá»©c táº¡p
  - Team quen thuá»™c vá»›i SQL

---

## IV. Æ¯U/NHÆ¯á»¢C ÄIá»‚M MÃ” HÃŒNH NOSQL

### âœ… Æ¯u Ä‘iá»ƒm:

1. **Hiá»‡u suáº¥t cao**: Latency tháº¥p (< 10ms)
2. **Scale dá»… dÃ ng**: Tá»± Ä‘á»™ng horizontal scaling
3. **Schema linh hoáº¡t**: Thay Ä‘á»•i cáº¥u trÃºc khÃ´ng cáº§n migration
4. **Serverless**: KhÃ´ng cáº§n quáº£n lÃ½ infrastructure
5. **TÃ­ch há»£p AWS**: IAM, Lambda, CloudWatch...

### âŒ NhÆ°á»£c Ä‘iá»ƒm:

1. **KhÃ´ng cÃ³ JOIN**: Pháº£i query nhiá»u láº§n
2. **Consistency**: Eventually consistent (máº·c Ä‘á»‹nh)
3. **Query háº¡n cháº¿**: Chá»‰ theo Primary Key hoáº·c GSI
4. **Chi phÃ­ Scan**: Scan full table ráº¥t tá»‘n kÃ©m
5. **Learning curve**: Cáº§n hiá»ƒu Access Patterns

### ğŸ“Š Query vs Scan - Giáº£i thÃ­ch:

| Query | Scan |
|-------|------|
| TÃ¬m theo Primary Key/GSI | Duyá»‡t toÃ n bá»™ báº£ng |
| O(1) - Nhanh | O(n) - Cháº­m |
| Ráº» (chá»‰ Ä‘á»c items cáº§n) | Äáº¯t (Ä‘á»c táº¥t cáº£ items) |
| DÃ¹ng khi biáº¿t key | DÃ¹ng khi khÃ´ng biáº¿t key |

**Scan tá»‘n chi phÃ­ vÃ¬**:
- Äá»c TOÃ€N Bá»˜ items trong báº£ng
- TÃ­nh tiá»n theo sá»‘ bytes Ä‘á»c (Read Capacity Units)
- KhÃ´ng táº­n dá»¥ng Ä‘Æ°á»£c index
- Cháº­m khi báº£ng lá»›n

---

## V. KIáº¾N TRÃšC Há»† THá»NG

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PRESENTATION LAYER                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚   Views     â”‚  â”‚  Routes     â”‚  â”‚ Middleware  â”‚      â”‚
â”‚  â”‚   (EJS)     â”‚  â”‚ (Express)   â”‚  â”‚  (Auth)     â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BUSINESS LAYER                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ Products    â”‚  â”‚  Orders     â”‚  â”‚   Carts     â”‚      â”‚
â”‚  â”‚ Service     â”‚  â”‚  Service    â”‚  â”‚  Service    â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DATA ACCESS LAYER                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ Products    â”‚  â”‚  Orders     â”‚  â”‚   Base      â”‚      â”‚
â”‚  â”‚ Repository  â”‚  â”‚ Repository  â”‚  â”‚ Repository  â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    INFRASTRUCTURE                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  DynamoDB   â”‚  â”‚     S3      â”‚  â”‚    IAM      â”‚      â”‚
â”‚  â”‚  (Tables)   â”‚  â”‚  (Images)   â”‚  â”‚  (Auth)     â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## VI. Cáº¤U TRÃšC THÆ¯ Má»¤C

```
Lab03/
â”œâ”€â”€ app.js                 # Entry point
â”œâ”€â”€ package.json
â”œâ”€â”€ .env                   # Environment variables
â”‚
â”œâ”€â”€ config/
â”‚   â””â”€â”€ aws.js            # AWS configuration
â”‚
â”œâ”€â”€ middleware/
â”‚   â””â”€â”€ auth.js           # Authentication & Authorization
â”‚
â”œâ”€â”€ repositories/          # ğŸ†• Data Access Layer
â”‚   â”œâ”€â”€ base.repository.js
â”‚   â”œâ”€â”€ products.repository.js
â”‚   â”œâ”€â”€ categories.repository.js
â”‚   â”œâ”€â”€ users.repository.js
â”‚   â”œâ”€â”€ orders.repository.js
â”‚   â”œâ”€â”€ order-items.repository.js
â”‚   â”œâ”€â”€ carts.repository.js
â”‚   â””â”€â”€ product-logs.repository.js
â”‚
â”œâ”€â”€ services/              # Business Logic Layer
â”‚   â”œâ”€â”€ products.service.js
â”‚   â”œâ”€â”€ categories.service.js
â”‚   â”œâ”€â”€ users.service.js
â”‚   â”œâ”€â”€ orders.service.js
â”‚   â”œâ”€â”€ carts.service.js
â”‚   â”œâ”€â”€ product-logs.service.js
â”‚   â””â”€â”€ s3.service.js
â”‚
â”œâ”€â”€ routes/                # Controllers/Routes
â”‚   â”œâ”€â”€ index.js
â”‚   â”œâ”€â”€ auth.js
â”‚   â”œâ”€â”€ products.js
â”‚   â”œâ”€â”€ categories.js
â”‚   â”œâ”€â”€ users.js
â”‚   â”œâ”€â”€ cart.js           # ğŸ†•
â”‚   â”œâ”€â”€ orders.js         # ğŸ†•
â”‚   â””â”€â”€ logs.js           # ğŸ†•
â”‚
â”œâ”€â”€ views/                 # Presentation Layer
â”‚   â”œâ”€â”€ layout.ejs
â”‚   â”œâ”€â”€ partials/
â”‚   â”œâ”€â”€ products/
â”‚   â”œâ”€â”€ categories/
â”‚   â”œâ”€â”€ users/
â”‚   â”œâ”€â”€ auth/
â”‚   â”œâ”€â”€ cart/             # ğŸ†•
â”‚   â”œâ”€â”€ orders/           # ğŸ†•
â”‚   â””â”€â”€ logs/             # ğŸ†•
â”‚
â”œâ”€â”€ scripts/               # ğŸ†• Utility scripts
â”‚   â”œâ”€â”€ seed-tables.js
â”‚   â”œâ”€â”€ seed-data.js
â”‚   â””â”€â”€ seed-users.js
â”‚
â””â”€â”€ public/
    â”œâ”€â”€ stylesheets/
    â””â”€â”€ images/
```

---

## VII. HÆ¯á»šNG DáºªN CHáº Y

```bash
# 1. CÃ i dependencies
npm install

# 2. Táº¡o báº£ng DynamoDB (náº¿u chÆ°a cÃ³)
node scripts/seed-tables.js

# 3. Seed dá»¯ liá»‡u máº«u
node scripts/seed-data.js

# 4. Cháº¡y server
npm start

# 5. Truy cáº­p: http://localhost:3000
```

### TÃ i khoáº£n máº«u:
| Username | Password | Role |
|----------|----------|------|
| admin | admin123 | Admin (full quyá»n) |
| staff | staff123 | Staff (chá»‰ xem) |
| customer | customer123 | Customer (mua hÃ ng) |
